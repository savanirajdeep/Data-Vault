<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <title>Dashboard</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js" integrity="sha256-/H4YS+7aYb9kJ5OKhFYPUjSJdrtV6AeyJOtTkw6X72o=" crossorigin="anonymous"></script>

        <script>
            
        $(document).ready(function(){
            function redirect(url) {
            var ua = navigator.userAgent.toLowerCase(),
            isIE = ua.indexOf('msie') !== -1,
            version = parseInt(ua.substr(4, 2), 10); if (isIE && version < 9) {
                var link = document.createElement('a');
                link.href = url;
                document.body.appendChild(link);
                link.click();
            } else {
            window.location.href = url;
            }
        }
        var encryptedToken = sessionStorage.getItem('token');
        alert(encryptedToken.toString());
        if(!encryptedToken.toString())
            alert('nothing');
        let key = prompt('Enter the secret key\nNote: It should be same as secret key in previous screen!');
        let bytes = CryptoJS.AES.decrypt(encryptedToken, key);
        token = bytes.toString(CryptoJS.enc.Utf8);
        var trueToken=sessionStorage.getItem('true');
        if(trueToken!=token){
            alert(trueToken);
            alert(token);
        }
        if(!token.toString()){
            key = prompt('Please provide correct secret key');
            token = CryptoJS.AES.decrypt(encryptedToken, key);   
        }
        if(!token.toString())
            redirect('/user/login');
        $("form").submit(function(evt){	 
            evt.preventDefault();
                var formData = new FormData($(this)[0]);
                $.ajax({
                url: '/upload',
                type: 'POST',
                data: formData,
            processData: false,  
            contentType: false,  
                enctype: 'multipart/form-data',
                success: function (response) {
                    alert(response);
                },
                error: function (response) {
                    alert(response);
                }
                });
                
                return false;
            });
        });
        let count = 0;
        // count->1 start
        // count->2 password 
        // count->3 image 
        // count->4 video 
        // count->5 document 


        //password 
        // JSON data -> userid, password

        // image 
        // JSON Data-> img, file name

        // video 
        // JSON Data-> video, file name

        // document 
        // JSON Data-> document, file name
        // function start() {
        //     count = 1;
        //     document.getElementById("container").innerHTML = "";
        //     let data = [{ "Email": "shubham" },{ "Email": "hubham" },{ "Email": "shubham" },{ "Email": "hubham" },{ "Email": "shubham" },{ "Email": "hubham" },{ "Email": "shubham" },{ "Email": "hubham" }];
        //     let html = "";
        //     let v = "";
        //     data.forEach((value) => {
        //         v +=
        //             "<main >" +
        //             "<div class=\"mx-auto py-0 pt-9 pb-0 sm:px-6 lg:px-8 \">" +
        //             "<div class=\"max-w-sm rounded overflow-hidden shadow-lg\"style=\"background: #F3F4F6\">" +
        //             "<img class=\"w-full\" src=\"/img/card-top.jpg\" alt=\"Sunset in the mountains\">" +
        //             "<div class=\"px-6 py-4\">" +
        //             "<div class=\"font-bold text-xl mb-2\" id=\"emailvalue\">The Coldest Sunset</div>" +
        //             "<p class=\"text-gray-700 text-base\">" +
        //             " Email :" + value.Email +
        //             "</p>" +
        //             "</div>" +
        //             "</div>" +
        //             "</main>";
        //     })
        //     document.getElementById("container").innerHTML = v;
        // }

        function passwordfun() {
            
            count = 2;
            document.getElementById("container").innerHTML = "";
            let html = "";
            let pass = "";
        //     pass+="<div class=\"flex flex-row\">"+
        //     "<div class=\"w-full md:w-full px-3\">"+
        //         "<label class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" for=\"Website\">"+
        //             "Web site"+
        //         "</label>"+
        //         "<input"+
        //             "class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\""+
        //             "id=\"website\" type=\"text\" placeholder=\"www.google.com\">" +
        //     "</div>"+
        //     "<div class=\"w-full md:w-full px-3\">"+
        //         "<label class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" for=\"userId\">"+
        //             "User ID"+
        //         "</label>"+
        //         "<input"+
        //             "class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\""+
        //             "id=\"userid\" type=\"text\" placeholder=\"data vault\">"+
        //     "</div>"+
        //     "<div class=\"w-full md:w-full px-3\">"+
        //         "<label class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" for=\"password\">"+
        //             "Password"+
        //         "</label>"+
        //         "<input"+
        //             "class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\""+
        //             "id=\"password\" type=\"password\" placeholder=\"Jane\">"+
        //     "</div>"+
        //     "<div class=\"w-full md:w-full py-5 pl-7\">"+
        //         "<label for=\"nothing\" class=\"\"></label>"+
        //         "<button style =\"background-color: #1F2937;\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\""+
        //                 "onclick=\"addData()\">"+
        //                 "Add"+
        //             "</button>"+
        //     "</div>"+
        // "</div>"+
        // "<table class=\"table\" id=\"table\">" + "</table>";
            // alert(token.toString());
            $.ajax({
                url: "/password/getAllPasswords",
                type: 'GET',
                headers: {
                    'token':token.toString()
                },
                success: function (res) {
                // pass+="<input type=\"text\">Enter name</input>";
                pass+="<div class=\"flex flex-row\" style=\"width=100%\">"+
            "<div class=\"w-full md:w-full px-3\">"+
                "<label class=\"uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" for=\"Website\">"+
                    "Web site"+
                "</label>"+
                "<input class=\"appearance-none w-full bg-gray-50 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\" id=\"website\" type=\"text\" placeholder=\"www.google.com\"> </input>" +
            "</div>"+
            "<div class=\"w-full md:w-full px-3\">"+
                "<label class=\"uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" for=\"userId\">"+
                    "User ID"+
                "</label>"+
                "<input class=\"appearance-none w-full bg-gray-50 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\" id=\"userid\" type=\"text\" placeholder=\"Data Vault\"> </input>"+
            "</div>"+
            "<div class=\"w-full md:w-full px-3\">"+
                "<label class=\"uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" for=\"password\"> Password"+
                "</label>"+
                "<input class=\"appearance-none  w-full bg-gray-50 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\" id=\"password\" type=\"password\" placeholder=\"Password\">"+
            "</div>"+
            "<div class=\"w-full md:w-full py-5 pl-7\">"+
                "<label for=\"nothing\" class=\"\"></label>"+
                "<button style =\"background-color: #1F2937;\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\""+
                        "onclick=\"addData()\">"+
                        "Add"+
                    "</button>"+
            "</div>"+
        "</div>";
                    res.forEach((value) => {
                pass +=
                    "<main>" +
                    "<div class=\"mx-auto py-0 pt-9 pb-0 sm:px-6 lg:px-8 \">" +
                    "<div class=\"max-w-sm rounded overflow-hidden shadow-lg\" style=\"background : #F3F4F6\">" +
                    "<div class=\"px-6 py-4\">" +
                    "<div class=\"font-bold text-xl mb-2\">"+"Email :"+ value.email +"</div>" +
                    "<p class=\"font-bold text-xl mb-2\">" +
                    " Password :" + value.password +
                    "</p>" +
                    "</div>" +
                    "</div>" +
                    "</main>"
                    })
                document.getElementById("container").innerHTML = pass;
                },
                error: (jqXHR, textStatus, errorThrown) => {
                alert(jqXHR.responseText);
                }
            })
            
            };
            



        
        function imagefun() {
            count = 3;
            document.getElementById("container").innerHTML = "";
            let data = [{ "Password": "shubham" },{ "Password": "shubham" },{ "Password": "shubham" },{
                "Password": "shubham"
            },{ "Password": "shubham" },{ "Password": "shubham" },{ "Password": "shubham" },{ "Password": "shubham" }];
            let html = "";
            let img = "";
            data.forEach((value) => {
                img +=
                    "<main>" +
                    "<div class=\"mx-auto py-0 pt-9 pb-0 sm:px-6 lg:px-8 \">" +
                    "<div class=\"max-w-sm rounded overflow-hidden shadow-lg\" style=\"background : #F3F4F6\">" +
                    "<img class=\"w-full\" src=\"/img/card-top.jpg\" alt=\"Sunset in the mountains\">" + value.img +
                    "<div class=\"px-6 py-4\">" +
                    "<div class=\"font-bold text-xl mb-2\">The Coldest Sunset</div>" +
                    "<p class=\"text-gray-700 text-base\">" +
                    "</p>" +
                    "</div>" +
                    "</div>" +
                    "</main>";
            })
            document.getElementById("container").innerHTML = img;
        }
        function videofun() {
            count = 4;
            document.getElementById("container").innerHTML = "";
            let data = [{ "Password": "shubham" },{ "Password": "shubham" },{ "Password": "shubham" },{
                "Password": "shubham"
            },{ "Password": "shubham" },{ "Password": "shubham" },{ "Password": "shubham" },{ "Password": "shubham" }];
            let html = "";
            let video = "";
            data.forEach((value) => {
                video +=
                    "<main>" +
                    "<div class=\"mx-auto py-0 pt-9 pb-0 sm:px-6 lg:px-8 \">" +
                    "<div class=\"max-w-sm rounded overflow-hidden shadow-lg\" style=\"background : #F3F4F6\">" +
                    "<img class=\"w-full\" src=\"/img/card-top.jpg\" alt=\"Sunset in the mountains\">" +
                    "<div class=\"px-6 py-4\">" +
                    "<div class=\"font-bold text-xl mb-2\">The Coldest Sunset</div>" +
                    "<p class=\"text-gray-700 text-base\">" +
                    " Video :" + value.video +
                    "</p>" +
                    "</div>" +
                    "</div>" +
                    "</main>";
            })
            document.getElementById("container").innerHTML = video;
        }
        function documentfun() {
            count = 5;
            document.getElementById("container").innerHTML = "";
            let data = [{ "Document": "19bct0092" },{ "Document": "19bct0092" },{ "Document": "19bct0092" },{
                "Document":
                    "19bct0092"
            },{ "Document": "19bct0092" },{ "Document": "19bct0092" },{ "Document": "19bct0092" },{
                "Document":
                    "19bct0092"
            },{ "Document": "19bct0092" }];
            let html = "";
            let doc = "";
            data.forEach((value) => {
                doc +=
                    "<main>" +
                    "<div class=\"mx-auto py-0 pt-9 pb-0 sm:px-6 lg:px-8 \">" +
                    "<div class=\"max-w-sm rounded overflow-hidden shadow-lg\" style=\"background : #F3F4F6\">" +
                    "<img class=\"w-full\" src=\"/img/card-top.jpg\" alt=\"Sunset in the mountains\">" +
                    "<div class=\"px-6 py-4\">" +
                    "<div class=\"font-bold text-xl mb-2\">The Coldest Sunset</div>" +
                    "<p class=\"text-gray-700 text-base\">" +
                    " Document :" + value.Document +
                    "</p>" +
                    "</div>" +
                    "</div>" +
                    "</main>";
            })
            document.getElementById("container").innerHTML = doc;
        }
    </script>
</head>

<body onload="passwordfun()"  style="background-color: #E5E7EB;">
    <div class="min-h-full ">
        <header class="bg-white shadow" style="background-color: #9CA3AF;">
            <div class="max-w-9xl gap-x-96 mx-auto py-5 px-4 sm:px-6 lg:px-8"
                style="display: flex; flex-direction: row;">
                <h1 class="text-3xl font-bold text-gray-900">
                    Dashboard
                </h1>
                <div class="pl-96 place-items-end md:place-items-end">
                    <input class="fas fa-cloud-upload-alt" type="file" name="file" id="file">
                    <button style = "background-color: #1F2937;" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full"
                        onclick="upload()">
                        Upload
                    </button>
                </div>
            </div>

            <!-- <div class="max-w-9xl mx-auto py-5 px-4 sm:px-6 lg:px-8 bg-grey">hello</div> -->
        </header>
    </div>
    <!-- <main>
        <div class="mx-auto py-0 pb-0 sm:px-6 lg:px-8">
            <div class="max-w-sm rounded overflow-hidden shadow-lg">
                <img class="w-full" src="/img/card-top.jpg" alt="Sunset in the mountains">
                <div class="px-6 py-4">
                  <div class="font-bold text-xl mb-2">The Coldest Sunset</div>
                  <p class="text-gray-700 text-base">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus quia, nulla! Maiores et perferendis eaque, exercitationem praesentium nihil.
                  </p>
                </div>
            </div>
   </main>  -->
    <div style="display: flex; flex-direction: row;">

        <div id="Main"
            class="xl:rounded-r transform  xl:translate-x-0 flex items-start h-full   w-full sm:w-64 flex-col" style="background-color: #4B5563;"> 
            <img class="rounded-full center pt-20  pl-5 w-4/5 h-4/5" src="https://i.ibb.co/L1LQtBm/Ellipse-1.png"
                alt="avatar" />

            <div class="flex justify-center items-center pt-6 space-x-2">
                <p class="text-lg leading-5 text-white">Alexis Enache</p>
            </div>
            <div class="flex flex-col justify-start items-center px-6 border-b border-gray-600 w-full ">
                <div class="flex justify-start  flex-col w-full md:w-full items-start pb-28 py-11 h-full">
                    <button
                        class="flex justify-start items-center space-x-6 hover:text-white focus:bg-gray-700 focus:text-white hover:bg-gray-700 text-gray-400 rounded px-3 py-2  w-full md:w-52"
                        onclick="passwordfun()" id="password">
                        <p class="text-base leading-4  ">Passwords</p>
                    </button>
                    <button
                        class="flex justify-start items-center space-x-6 hover:text-white focus:bg-gray-700 focus:text-white hover:bg-gray-700 text-gray-400 rounded px-3 py-2  w-full md:w-52"
                        onclick="imagefun()">
                        <p class="text-base leading-4  ">Images</p>
                    </button>
                    <button
                        class="flex justify-start items-center space-x-6 hover:text-white focus:bg-gray-700 focus:text-white hover:bg-gray-700 text-gray-400 rounded px-3 py-2 w-full md:w-52"
                        onclick="videofun()">
                        <p class="text-base leading-4  ">Videos</p>
                    </button>
                    <button
                        class="flex justify-start items-center space-x-6 hover:text-white focus:bg-gray-700 focus:text-white hover:bg-gray-700 text-gray-400 rounded px-3 py-2  w-full md:w-52"
                        onclick="documentfun()">
                        <p class="text-base leading-4  ">Documents</p>
                    </button>
                    <button
                        class="flex justify-start items-center space-x-6 hover:text-white focus:bg-gray-700 focus:text-white hover:bg-gray-700 text-gray-400 rounded px-3 py-2  w-full md:w-52">
                        <p class="text-base leading-4  ">Log out</p>
                    </button>
                </div>
            </div>
        </div>
        <div id="container" style="display:flex; background-color: #E5E7EB; flex-wrap: wrap; width: 100%; padding-bottom: 20px; height: 100%;">

        </div>
    </div>
</body>

</html>