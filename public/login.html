<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./assets/css/style.css">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
     <script>
     $(document).ready(function(){
       $("form").submit(function(evt){	 
         evt.preventDefault();
         let data = {
          "email": $("#username").val(),
              "password":$("#password").val()
          };
         $.ajax({
          url: '/user/login',
          type: 'POST',
          data: data,
          success: function (response) {
            alert(response.token.toString());
            alert(err.message.toString());
          },
          error:(jqXHR, textStatus, errorThrown)=>{
            alert(jqXHR.responseText);
          }
        })
      })
      })  
    </script>
   </head>
<body>
  <div class="container">
    <div class="title">Log in</div>
    <div class="content">
      <form>
        <div class="user-details">
          <div class="input-box">
            <span class="details">Username</span>
            <input type="text" id="username" placeholder="Enter your username" required>
          </div>
          <div class="input-box">
            <span class="details">Password</span>
            <input type="password" id="password" placeholder="Enter your password" required>
        </div>
        <div class="input-box" style="width: 100%;">
          <span class="details">Secret Key</span>
          <input type="text" id="secret" placeholder="Enter any secretkey" required>
      </div>
        
        </div>
        <div class="button">
          <input type="submit" onclick="generateHash()" value="Log In">
        </div>
        <div>
          <a href="#" class="details-center">I don't have any account</a>
        </div>
      </form>
    </div>
  </div>
  
  <script>
    function generateHash() {
      var user = document.getElementById('username').value;
      var password = document.getElementById('password').value;
      var md = forge.md.sha256.create();
      var md2 = forge.md.sha256.create();
      md.start();
      md2.start();
      md.update(user,"utf8");
      md2.update(password,"utf8");
      var userhash = md.digest().toHex();
      var passhash = md2.digest().toHex();
      alert("userhash: " + userhash + "\npasshash :" + passhash);
    }
  </script>
</body>
</html>
